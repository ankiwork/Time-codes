//Библиотеки
#include <stdio.h>
#include <stdlib.h>
#include <time.h>



//Константы
#define M 5  //Произвольный массив длинной "M"




//Начало функции поиска последнего положительного числа(Индекса) массива
int FindMaxLast(int a[M][M]) {  //Вспомогательная функция
    
    
    
    //Объявление переменных, указателей и т.п.
    int i;  //Счёчтик для прохода по массиву
    int ret = 0;  //Возвращаемое значение вспомогательной функции
    
    
    
    //Основной код(поиск максимального значения)
    for (i = M - 1; i >= 0; i--) {  //Проход по массиву(Инверсия)
        
        if (a[i] > 0) {  //Проверка на положительность
            
            ret = i;  //Присвоить переменной индекс последнего положительного значения
            break;  //Прервать этот барабан, ибо зачем оно дальше надо
            
        }
        
    }
    
    
    //Возвращаемое значение функции
    return ret;  //Вернуть значение(Индекс)
    
}


//Начало главной функции
int main() {  //Главная функция
    
    
    
    //Предустановки
    srand((unsigned int)time(NULL));  //Позволяет генерировать каждый раз "Новые" случайные числа
    
    
    
    //Объявление переменных, указателей и т.п.
    int a[M][M];  //Объявление массива
    int i, j;  //Счёчтики для прохода по матрице
    int ret;  //Возвращаемое значение вспомогательной функции "ret" - "return"
    
    
    
    //Основной код(Задание матрицы + деление по областям)
    printf("\n\n");  //Отступ для красоты вывода
    
    for (i = 0; i < M; i++) {  //Проход по строкам
        
        for (j = 0; j < i; j++) {  //Проход по левой области
            
            a[i][j] = 1 + rand() % 9;  //Присвоение элементу матрицы случайного числа от 1 до 9
            printf("%5d", a[i][j]);  //Вывод элемента матрицы в консоль + 5 знакомест под элемент массива
            
        }
        
        for (j = j; j < i + 1; j++) {  //Проход по cредней линии
            
            a[i][j] = 1 + rand() % 9;  //Присвоение элементу матрицы случайного числа от 1 до 9
            printf("%5d", a[i][j]);  //Вывод элемента матрицы в консоль + 5 знакомест под элемент массива
            
        }
        
        for (j = j; j < M; j++) {  //Проход правой области
            
            a[i][j] = 1 + rand() % 9;  //Присвоение элементу матрицы случайного числа от 1 до 9
            printf("%5d", a[i][j]);  //Вывод элемента матрицы в консоль + 5 знакомест под элемент массива
            
        }
        
        printf("\n\n");  //Двойной отступ для симметричности вывода в консоль относительно "столбцов"
        
    }
    
    printf("\n");  //Отступ для красоты вывода в консоль
    
    
    
    //Вызов функции
    ret = FindMaxLast(a);  //Вызов вспомогательной функции + передать массив "а"
    
    
    
    //Основной код(Вывод в консоль индекса)
    printf("Индекс последнего положительного элемента: %d\n\n", ret);  //Вывод + отступ для красоты
    

    //Возвращаемое значение функции
    return 0;  //Вернуть 0
    
}
